---
import Layout from '../../layouts/Layout.astro';
import { STUDIO_TAX_ID } from '../../consts';
import { getTranslations, getLocalizedPath } from '../../i18n/utils';
import { defaultLang, type Language, getAllLanguageCodes } from '../../i18n/languages';

// 生成所有語言版本的靜態路徑
export async function getStaticPaths() {
	const allLangs = getAllLanguageCodes();
	return allLangs
		.filter((lang) => lang !== defaultLang)
		.map((lang) => ({
			params: { lang },
		}));
}

// 從 URL 參數取得語言
const lang = (Astro.params.lang || defaultLang) as Language;
const translations = await getTranslations(lang);

// 翻譯函式
function t(key: string): string {
	const keys = key.split('.');
	let value: any = translations;
	for (const k of keys) {
		value = value?.[k];
		if (value === undefined) return key;
	}
	// 處理佔位符
	if (typeof value === 'string' && value.includes('{taxId}')) {
		value = value.replace('{taxId}', STUDIO_TAX_ID);
	}
	return value || key;
}
---

<Layout 
	title={t('pages.pricing.title')}
	description={t('pages.pricing.description')}
>
	<!-- Hero 區塊 -->
	<section class="hero">
		<div class="container">
			<h1>{t('pages.pricing.heroTitle')}</h1>
			<p class="hero-subtitle" set:html={t('pages.pricing.heroSubtitle').replace(/\n/g, '<br>')}></p>
		</div>
	</section>

	<!-- 定價方案卡片 -->
	<section class="section pricing-cards">
		<div class="container">
			<div class="plans-grid">
				<!-- 試用方案 -->
				<div class="plan-card">
					<h3 class="plan-name">{t('pages.pricing.planTrial')}</h3>
					<div class="plan-price">
						<span class="price">{t('pages.pricing.planTrialPrice')}</span>
					</div>
					<ul class="plan-features">
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planTrialFeature1')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planTrialFeature2')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planTrialFeature3')}
						</li>
						<li class="disabled">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon cross">
								<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
							</svg>
							{t('pages.pricing.planTrialFeature4')}
						</li>
						<li class="disabled">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon cross">
								<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
							</svg>
							{t('pages.pricing.planTrialFeature5')}
						</li>
					</ul>
					<a href={getLocalizedPath('/get-started?source=pricing&plan=trial', lang)} class="plan-btn">{t('pages.pricing.planTrialButton')}</a>
					<p class="plan-note">{t('pages.pricing.planTrialNote')}</p>
				</div>

				<!-- 單次方案 -->
				<div class="plan-card">
					<h3 class="plan-name">{t('pages.pricing.planSingle')}</h3>
					<div class="plan-price">
						<span class="price">{t('pages.pricing.planSinglePrice')}</span>
						<span class="period">{t('pages.pricing.planSinglePeriod')}</span>
					</div>
					<ul class="plan-features">
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planSingleFeature1')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planSingleFeature2')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planSingleFeature3')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planSingleFeature4')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planSingleFeature5')}
						</li>
					</ul>
					<a href={getLocalizedPath('/get-started?source=pricing&plan=once', lang)} class="plan-btn">{t('pages.pricing.planSingleButton')}</a>
					<p class="plan-note">{t('pages.pricing.planSingleNote')}</p>
				</div>

				<!-- 月度方案（推薦）-->
				<div class="plan-card featured">
					<div class="badge">{t('pages.pricing.badgePopular')}</div>
					<h3 class="plan-name">{t('pages.pricing.planMonthly')}</h3>
					<div class="plan-price">
						<span class="price">{t('pages.pricing.planMonthlyPrice')}</span>
						<span class="period">{t('pages.pricing.planMonthlyPeriod')}</span>
					</div>
					<ul class="plan-features">
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planMonthlyFeature1')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planMonthlyFeature2')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planMonthlyFeature3')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planMonthlyFeature4')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planMonthlyFeature5')}
						</li>
					</ul>
					<a href={getLocalizedPath('/get-started?source=pricing&plan=monthly', lang)} class="plan-btn primary">{t('pages.pricing.planMonthlyButton')}</a>
					<p class="plan-note">{t('pages.pricing.planMonthlyNote')}</p>
				</div>

				<!-- 年度方案 -->
				<div class="plan-card">
					<h3 class="plan-name">{t('pages.pricing.planYearly')}</h3>
					<div class="plan-price">
						<span class="price">{t('pages.pricing.planYearlyPrice')}</span>
						<span class="period">{t('pages.pricing.planYearlyPeriod')}</span>
						<span class="save">{t('pages.pricing.planYearlySave')}</span>
					</div>
					<ul class="plan-features">
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planYearlyFeature1')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planYearlyFeature2')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planYearlyFeature3')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planYearlyFeature4')}
						</li>
						<li>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon check">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							{t('pages.pricing.planYearlyFeature5')}
						</li>
					</ul>
					<a href={getLocalizedPath('/get-started?source=pricing&plan=yearly', lang)} class="plan-btn">{t('pages.pricing.planYearlyButton')}</a>
					<p class="plan-note">{t('pages.pricing.planYearlyNote')}</p>
				</div>
			</div>
		</div>
	</section>

	<!-- 功能對照表 -->
	<section class="section comparison">
		<div class="container">
			<h2 class="section-title">{t('pages.pricing.comparisonTitle')}</h2>
			
			<div class="comparison-table-wrapper">
				<table class="comparison-table">
					<thead>
						<tr>
							<th class="feature-col">{t('pages.pricing.comparisonFeatureCol')}</th>
							<th>{t('pages.pricing.comparisonTrial')}</th>
							<th>{t('pages.pricing.comparisonSingle')}</th>
							<th class="featured-col">{t('pages.pricing.comparisonMonthly')}</th>
							<th>{t('pages.pricing.comparisonYearly')}</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature1')}</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature2')}</td>
							<td><span class="text-note">{t('pages.pricing.comparisonPreview')}</span></td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature3')}</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature4')}</td>
							<td><span class="text-note">—</span></td>
							<td><span class="text-strong">1</span></td>
							<td><span class="text-strong">3</span></td>
							<td><span class="text-strong">5</span></td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature5')}</td>
							<td><span class="text-note">{t('pages.pricing.comparisonDays7')}</span></td>
							<td><span class="text-strong">{t('pages.pricing.comparisonPermanent')}</span></td>
							<td><span class="text-strong">{t('pages.pricing.comparisonPermanent')}</span></td>
							<td><span class="text-strong">{t('pages.pricing.comparisonPermanent')}</span></td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature6')}</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature7')}</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature8')}</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature9')}</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
						</tr>
						<tr>
							<td class="feature-name">{t('pages.pricing.comparisonFeature10')}</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm cross">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</td>
							<td>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-sm check">
									<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
								</svg>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</section>

	<!-- 支援付款方式 -->
	<section class="section payment">
		<div class="container">
			<h2 class="section-title">{t('pages.pricing.paymentTitle')}</h2>
			
			<div class="payment-grid">
				<div class="payment-method">
					<div class="payment-icon">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" />
						</svg>
					</div>
					<h3>{t('pages.pricing.paymentTaiwan')}</h3>
					<p class="payment-name">{t('pages.pricing.paymentECPay')}</p>
					<ul>
						<li>{t('pages.pricing.paymentECPay1')}</li>
						<li>{t('pages.pricing.paymentECPay2')}</li>
						<li>{t('pages.pricing.paymentECPay3')}</li>
					</ul>
				</div>

				<div class="payment-method">
					<div class="payment-icon">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z" />
						</svg>
					</div>
					<h3>{t('pages.pricing.paymentInternational')}</h3>
					<p class="payment-name">{t('pages.pricing.paymentPayPal')}</p>
					<ul>
						<li>{t('pages.pricing.paymentPayPal1')}</li>
						<li>{t('pages.pricing.paymentPayPal2')}</li>
						<li>{t('pages.pricing.paymentPayPal3')}</li>
					</ul>
				</div>

				<div class="payment-method">
					<div class="payment-icon">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
						</svg>
					</div>
					<h3>{t('pages.pricing.paymentSecurity')}</h3>
					<p class="payment-name">{t('pages.pricing.paymentSecurityName')}</p>
					<ul>
						<li>{t('pages.pricing.paymentSecurity1')}</li>
						<li>{t('pages.pricing.paymentSecurity2')}</li>
						<li>{t('pages.pricing.paymentSecurity3')}</li>
					</ul>
				</div>
			</div>
		</div>
	</section>

	<!-- FAQ 專區 -->
	<section class="section faq" id="faq">
		<div class="container">
			<h2 class="section-title">{t('pages.pricing.faqTitle')}</h2>
			
			<div class="faq-list">
				<details class="faq-item">
					<summary>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-chevron">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
						</svg>
						{t('pages.pricing.faqQ1')}
					</summary>
					<div class="faq-answer">
						<p set:html={t('pages.pricing.faqA1').replace('12345678', STUDIO_TAX_ID)}></p>
					</div>
				</details>

				<details class="faq-item">
					<summary>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-chevron">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
						</svg>
						{t('pages.pricing.faqQ2')}
					</summary>
					<div class="faq-answer">
						<p>{t('pages.pricing.faqA2')}</p>
					</div>
				</details>

				<details class="faq-item">
					<summary>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-chevron">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
						</svg>
						{t('pages.pricing.faqQ3')}
					</summary>
					<div class="faq-answer">
						<p>{t('pages.pricing.faqA3')}</p>
					</div>
				</details>

				<details class="faq-item">
					<summary>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-chevron">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
						</svg>
						{t('pages.pricing.faqQ4')}
					</summary>
					<div class="faq-answer">
						<p set:html={t('pages.pricing.faqA4').replace(/<a href="\/contact">/g, `<a href="${getLocalizedPath('/contact', lang)}">`)}></p>
					</div>
				</details>

				<details class="faq-item">
					<summary>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-chevron">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
						</svg>
						{t('pages.pricing.faqQ5')}
					</summary>
					<div class="faq-answer">
						<p>{t('pages.pricing.faqA5')}</p>
					</div>
				</details>

				<details class="faq-item">
					<summary>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-chevron">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
						</svg>
						{t('pages.pricing.faqQ6')}
					</summary>
					<div class="faq-answer">
						<p>{t('pages.pricing.faqA6')}</p>
					</div>
				</details>

				<details class="faq-item">
					<summary>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-chevron">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
						</svg>
						{t('pages.pricing.faqQ7')}
					</summary>
					<div class="faq-answer">
						<p>{t('pages.pricing.faqA7')}</p>
					</div>
				</details>

				<details class="faq-item">
					<summary>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-chevron">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
						</svg>
						{t('pages.pricing.faqQ8')}
					</summary>
					<div class="faq-answer">
						<p>{t('pages.pricing.faqA8')}</p>
					</div>
				</details>
			</div>
		</div>
	</section>

	<!-- CTA 區塊 -->
	<section class="section cta-final">
		<div class="container">
			<div class="cta-content">
				<h2>{t('pages.pricing.ctaTitle')}</h2>
				<p>{t('pages.pricing.ctaSubtitle')}</p>
				<div class="cta-buttons">
					<a href={getLocalizedPath('/get-started?source=pricing', lang)} class="btn btn-ecpay">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="btn-icon">
							<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" />
						</svg>
						{t('pages.pricing.ctaButton1')}
					</a>
					<a href={getLocalizedPath('/get-started?source=pricing-demo', lang)} class="btn btn-secondary">
						{t('pages.pricing.ctaButton2')}
					</a>
					<a href={getLocalizedPath('/contact?type=enterprise', lang)} class="btn btn-tertiary">
						{t('pages.pricing.ctaButton3')}
					</a>
				</div>
			</div>
		</div>
	</section>
</Layout>

<style>
	/* 複製 pricing.astro 的完整樣式 */
	.hero {
		background: var(--bg-main);
		color: var(--text-primary);
		padding: 0.25rem 0 3rem;
		text-align: center;
		border-bottom: 1px solid var(--border-light);
	}

	.hero h1 {
		font-size: 2.75rem;
		margin-bottom: 1.5rem;
		font-weight: 700;
		letter-spacing: -0.02em;
	}

	.hero-subtitle {
		font-size: 1.125rem;
		opacity: 0.9;
		line-height: 1.75;
		font-weight: 400;
	}

	.pricing-cards {
		background: var(--bg-section);
	}

	.plans-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: 2rem;
		margin-top: 2rem;
	}

	.plan-card {
		background: var(--bg-card);
		border: 1px solid var(--border-color);
		border-radius: var(--radius-md);
		padding: 2.5rem;
		position: relative;
		transition: all 0.3s ease;
		display: flex;
		flex-direction: column;
	}

	.plan-card:hover {
		box-shadow: var(--shadow-md);
		border-color: var(--cta-primary);
	}

	.plan-card.featured {
		border-color: var(--cta-gold);
		border-width: 2px;
		box-shadow: var(--shadow-md);
	}

	.badge {
		position: absolute;
		top: -14px;
		right: 2rem;
		background: var(--cta-gold);
		color: white;
		padding: 0.375rem 1rem;
		border-radius: var(--radius-sm);
		font-size: 0.8125rem;
		font-weight: 600;
		letter-spacing: 0.02em;
	}

	.plan-name {
		font-size: 1.375rem;
		margin-bottom: 1.5rem;
		color: var(--text-primary);
		font-weight: 600;
	}

	.plan-price {
		margin-bottom: 2rem;
		padding-bottom: 2rem;
		border-bottom: 1px solid var(--border-color);
	}

	.price {
		font-size: 2.5rem;
		font-weight: 700;
		color: var(--cta-primary);
		letter-spacing: -0.02em;
	}

	.period {
		font-size: 1rem;
		color: var(--text-secondary);
		margin-left: 0.375rem;
		font-weight: 400;
	}

	.save {
		display: inline-block;
		font-size: 0.875rem;
		color: var(--cta-success);
		font-weight: 600;
		margin-top: 0.5rem;
	}

	.plan-features {
		list-style: none;
		padding: 0;
		margin: 0 0 2.5rem 0;
		flex: 1;
	}

	.plan-features li {
		display: flex;
		align-items: flex-start;
		gap: 0.75rem;
		padding: 0.75rem 0;
		color: var(--text-primary);
		font-size: 0.9375rem;
		font-weight: 400;
		line-height: 1.5;
	}

	.plan-features li.disabled {
		color: var(--text-secondary);
		opacity: 0.6;
	}

	.plan-features .icon {
		width: 1.25rem;
		height: 1.25rem;
		flex-shrink: 0;
		margin-top: 0.125rem;
	}

	.plan-features .icon.check {
		color: var(--cta-success);
	}

	.plan-features .icon.cross {
		color: var(--text-secondary);
	}

	.plan-btn {
		display: block;
		text-align: center;
		padding: 1rem;
		background: var(--bg-card);
		border: 2px solid var(--cta-primary);
		color: var(--cta-primary);
		text-decoration: none;
		border-radius: var(--radius-md);
		font-weight: 600;
		font-size: 0.9375rem;
		transition: all 0.2s ease;
		margin-bottom: 1rem;
	}

	.plan-btn:hover {
		background: var(--cta-primary);
		color: white;
	}

	.plan-btn.primary {
		background: var(--cta-success);
		border-color: var(--cta-success);
		color: white;
	}

	.plan-btn.primary:hover {
		background: #059669;
		border-color: #059669;
		box-shadow: var(--shadow-sm);
	}

	.plan-note {
		text-align: center;
		font-size: 0.875rem;
		color: var(--text-secondary);
		margin: 0;
		font-weight: 400;
	}

	.comparison {
		background: var(--bg-card);
	}

	.comparison-table-wrapper {
		overflow-x: auto;
		border-radius: var(--radius-lg);
		box-shadow: var(--shadow-sm);
	}

	.comparison-table {
		width: 100%;
		border-collapse: separate;
		border-spacing: 0;
		background: var(--bg-card);
		border: 1px solid var(--border-color);
		border-radius: var(--radius-lg);
		overflow: hidden;
	}

	.comparison-table th,
	.comparison-table td {
		padding: 1.25rem 1.5rem;
		text-align: center;
		border-bottom: 1px solid var(--border-color);
	}

	.comparison-table thead th {
		background: var(--cta-primary);
		color: white;
		font-weight: 600;
		font-size: 0.9375rem;
		letter-spacing: 0.01em;
	}

	.comparison-table thead .featured-col {
		background: var(--cta-gold);
	}

	.comparison-table .feature-col,
	.comparison-table .feature-name {
		text-align: left;
		font-weight: 500;
		color: var(--text-primary);
		font-size: 0.9375rem;
	}

	.comparison-table tbody tr:last-child td {
		border-bottom: none;
	}

	.comparison-table tbody tr:hover {
		background: var(--bg-section);
	}

	.comparison-table .icon-sm {
		width: 1.25rem;
		height: 1.25rem;
		display: inline-block;
	}

	.comparison-table .icon-sm.check {
		color: var(--cta-success);
	}

	.comparison-table .icon-sm.cross {
		color: var(--text-secondary);
		opacity: 0.5;
	}

	.comparison-table .text-note {
		color: var(--text-secondary);
		font-size: 0.875rem;
	}

	.comparison-table .text-strong {
		font-weight: 600;
		color: var(--text-primary);
	}

	.payment {
		background: var(--bg-section);
	}

	.payment-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 2rem;
	}

	.payment-method {
		background: var(--bg-card);
		padding: 2.5rem;
		border-radius: var(--radius-lg);
		border: 1px solid var(--border-color);
		transition: all 0.3s ease;
	}

	.payment-method:hover {
		box-shadow: var(--shadow-md);
	}

	.payment-icon {
		width: 3rem;
		height: 3rem;
		display: flex;
		align-items: center;
		justify-content: center;
		background: var(--bg-section);
		border-radius: var(--radius-md);
		margin-bottom: 1.5rem;
		color: var(--cta-primary);
	}

	.payment-icon svg {
		width: 1.75rem;
		height: 1.75rem;
	}

	.payment-method h3 {
		font-size: 1.25rem;
		margin-bottom: 0.5rem;
		font-weight: 600;
		color: var(--text-primary);
	}

	.payment-name {
		font-weight: 600;
		color: var(--cta-primary);
		margin-bottom: 1.5rem;
		font-size: 1rem;
	}

	.payment-method ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.payment-method li {
		padding: 0.625rem 0;
		color: var(--text-secondary);
		font-size: 0.9375rem;
	}

	.faq {
		background: var(--bg-card);
	}

	.faq-list {
		max-width: 900px;
		margin: 0 auto;
	}

	.faq-item {
		background: var(--bg-section);
		border: 1px solid var(--border-color);
		border-radius: var(--radius-md);
		margin-bottom: 1rem;
		overflow: hidden;
		transition: all 0.2s ease;
	}

	.faq-item:hover {
		border-color: var(--cta-primary);
	}

	.faq-item[open] {
		background: var(--bg-card);
		box-shadow: var(--shadow-sm);
		border-color: var(--cta-primary);
	}

	.faq-item summary {
		display: flex;
		align-items: center;
		gap: 1rem;
		padding: 1.5rem 1.75rem;
		font-weight: 600;
		cursor: pointer;
		user-select: none;
		color: var(--text-primary);
		list-style: none;
		font-size: 1rem;
		transition: all 0.2s ease;
	}

	.faq-item summary::-webkit-details-marker {
		display: none;
	}

	.faq-item summary:hover {
		color: var(--cta-primary);
	}

	.faq-item[open] summary {
		color: var(--cta-primary);
	}

	.icon-chevron {
		width: 1.25rem;
		height: 1.25rem;
		flex-shrink: 0;
		transition: transform 0.2s ease;
		color: var(--text-secondary);
	}

	.faq-item[open] .icon-chevron {
		transform: rotate(180deg);
		color: var(--cta-primary);
	}

	.faq-answer {
		padding: 0 1.75rem 1.75rem 3.5rem;
		color: var(--text-secondary);
		line-height: 1.75;
		font-size: 0.9375rem;
	}

	.faq-answer p {
		margin: 0;
	}

	.faq-answer a {
		color: var(--cta-primary);
		text-decoration: none;
		font-weight: 500;
	}

	.faq-answer a:hover {
		text-decoration: underline;
	}

	.cta-final {
		background: var(--cta-primary);
		color: white;
		text-align: center;
	}

	.cta-content h2 {
		color: white;
		margin-bottom: 1rem;
		font-weight: 700;
	}

	.cta-content p {
		font-size: 1.125rem;
		opacity: 0.9;
		margin-bottom: 2.5rem;
		font-weight: 400;
	}

	.cta-buttons {
		display: flex;
		gap: 1rem;
		justify-content: center;
		flex-wrap: wrap;
	}

	.btn {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		padding: 1rem 2rem;
		border-radius: var(--radius-md);
		text-decoration: none;
		font-weight: 600;
		font-size: 0.9375rem;
		transition: all 0.2s ease;
		border: 2px solid transparent;
	}

	.btn-icon {
		width: 1.25rem;
		height: 1.25rem;
	}

	.btn-ecpay {
		background: var(--cta-success);
		color: white;
		border-color: var(--cta-success);
	}

	.btn-ecpay:hover {
		background: #059669;
		border-color: #059669;
		box-shadow: var(--shadow-md);
	}

	.btn-secondary {
		background: var(--bg-card);
		color: var(--cta-primary);
		border-color: white;
	}

	.btn-secondary:hover {
		background: var(--bg-section);
		color: var(--cta-primary);
	}

	.btn-tertiary {
		background: transparent;
		color: white;
		border-color: rgba(255, 255, 255, 0.3);
	}

	.btn-tertiary:hover {
		background: rgba(255, 255, 255, 0.1);
		border-color: rgba(255, 255, 255, 0.5);
	}

	.section {
		padding: 6rem 0;
	}

	.section-title {
		text-align: center;
		font-size: 2.25rem;
		margin-bottom: 4rem;
		color: var(--text-primary);
		font-weight: 700;
		letter-spacing: -0.02em;
	}

	@media (max-width: 768px) {
		.hero {
			padding: 0.5rem 0 2.5rem;
		}

		.hero h1 {
			font-size: 2rem;
		}

		.section {
			padding: 4rem 0;
		}

		.section-title {
			font-size: 1.75rem;
			margin-bottom: 2.5rem;
		}

		.plans-grid {
			grid-template-columns: 1fr;
		}

		.price {
			font-size: 2.5rem;
		}

		.cta-buttons {
			flex-direction: column;
			align-items: stretch;
		}

		.btn {
			width: 100%;
			justify-content: center;
		}

		.comparison-table th,
		.comparison-table td {
			padding: 0.875rem 1rem;
			font-size: 0.875rem;
		}

		.faq-answer {
			padding-left: 1.75rem;
		}
	}
</style>
