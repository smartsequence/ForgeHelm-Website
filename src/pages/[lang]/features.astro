---
import Layout from '../../layouts/Layout.astro';
import { getTranslations, getLocalizedPath } from '../../i18n/utils';
import { defaultLang, type Language, getAllLanguageCodes } from '../../i18n/languages';

// ç”Ÿæˆæ‰€æœ‰èªè¨€ç‰ˆæœ¬çš„éœæ…‹è·¯å¾‘
export async function getStaticPaths() {
	const allLangs = getAllLanguageCodes();
	return allLangs
		.filter((lang) => lang !== defaultLang)
		.map((lang) => ({
			params: { lang },
		}));
}

// å¾ URL åƒæ•¸å–å¾—èªè¨€
const lang = (Astro.params.lang || defaultLang) as Language;
const translations = await getTranslations(lang);

// ç¿»è­¯å‡½å¼
function t(key: string): string {
	const keys = key.split('.');
	let value: any = translations;
	for (const k of keys) {
		value = value?.[k];
		if (value === undefined) return key;
	}
	return value || key;
}
---

<Layout 
	title={lang === 'en' ? 'Features | ForgeHelm - Smart Sequence Tech' : 'åŠŸèƒ½ä»‹ç´¹ | ForgeHelm - æ™ºåºè³‡è¨Šå·¥ä½œå®¤'}
	description={lang === 'en' ? 'ForgeHelm six core features: questionnaire quantitative assessment, AI intelligent analysis, visualization reports, multi-language support, database integration, real-time collaboration.' : 'ForgeHelm å…­å¤§æ ¸å¿ƒåŠŸèƒ½ï¼šå•å·é‡åŒ–è©•ä¼°ã€AI æ™ºæ…§åˆ†æã€è¦–è¦ºåŒ–å ±å‘Šã€å¤šèªè¨€æ”¯æ´ã€è³‡æ–™åº«æ•´åˆã€å³æ™‚å”ä½œã€‚'}
>
	<!-- Hero å€å¡Š -->
	<section class="hero">
		<div class="container">
			<h1>{lang === 'en' ? 'ForgeHelm Service Overview' : 'ForgeHelm æœå‹™èªªæ˜'}</h1>
			<p class="hero-subtitle">
				{lang === 'en' 
					? 'ForgeHelm is a system risk assessment and report generation service that combines questionnaire quantification, AI analysis, and visualization reports to help teams effectively identify potential risks and evaluate rewrite costs.'
					: 'ForgeHelm æ˜¯ä¸€å¥—ç³»çµ±é¢¨éšªè©•ä¼°èˆ‡å ±å‘Šç”¢å‡ºæœå‹™ï¼Œçµåˆå•å·é‡åŒ–ã€AI åˆ†æèˆ‡è¦–è¦ºåŒ–å ±å‘Šï¼Œå”åŠ©åœ˜éšŠæœ‰æ•ˆè­˜åˆ¥æ½›åœ¨é¢¨éšªèˆ‡è©•ä¼°æ”¹å¯«æˆæœ¬ã€‚'}
			</p>
		</div>
	</section>

	<!-- é©ç”¨å°è±¡ -->
	<section class="section target-audience">
		<div class="container">
			<h2 class="section-title">{lang === 'en' ? 'Who Needs ForgeHelm?' : 'èª°éœ€è¦ ForgeHelmï¼Ÿ'}</h2>
			
			<div class="audience-grid">
				<div class="audience-card">
					<div class="card-icon">ğŸ‘”</div>
					<h3>{lang === 'en' ? 'System Project Manager (PM)' : 'ç³»çµ±å°ˆæ¡ˆç¶“ç†ï¼ˆPMï¼‰'}</h3>
					<ul>
						<li>{lang === 'en' ? 'Need a complete risk overview before system handover' : 'ç³»çµ±äº¤æ¥å‰éœ€è¦å®Œæ•´çš„é¢¨éšªç¸½è¦½'}</li>
						<li>{lang === 'en' ? 'Need data support for external presentations or reports to supervisors' : 'å°å¤–ç°¡å ±æˆ–å‘ä¸»ç®¡å ±å‘Šæ™‚éœ€è¦æ•¸æ“šæ”¯æ’'}</li>
						<li>{lang === 'en' ? 'Evaluate whether to invest in rewrite resources' : 'è©•ä¼°æ˜¯å¦éœ€è¦æŠ•å…¥æ”¹å¯«è³‡æº'}</li>
					</ul>
				</div>

				<div class="audience-card">
					<div class="card-icon">ğŸ”</div>
					<h3>{lang === 'en' ? 'System Analyst (SA)' : 'ç³»çµ±åˆ†æå¸«ï¼ˆSAï¼‰'}</h3>
					<ul>
						<li>{lang === 'en' ? 'Quickly diagnose the health status of legacy systems' : 'å¿«é€Ÿè¨ºæ–·éºç•™ç³»çµ±çš„å¥åº·ç‹€æ³'}</li>
						<li>{lang === 'en' ? 'Generate structured system assessment reports' : 'ç”¢å‡ºçµæ§‹åŒ–çš„ç³»çµ±è©•ä¼°å ±å‘Š'}</li>
						<li>{lang === 'en' ? 'Assist in establishing improvement priorities' : 'å”åŠ©åˆ¶å®šæ”¹å–„å„ªå…ˆé †åº'}</li>
					</ul>
				</div>

				<div class="audience-card">
					<div class="card-icon">âš™ï¸</div>
					<h3>{lang === 'en' ? 'Technical Lead / Architect' : 'æŠ€è¡“ä¸»ç®¡ / æ¶æ§‹å¸«'}</h3>
					<ul>
						<li>{lang === 'en' ? 'Assessment of old systems preparing for rewrite' : 'æº–å‚™æ”¹å¯«çš„èˆŠç³»çµ±è©•ä¼°'}</li>
						<li>{lang === 'en' ? 'Quantify technical debt and modernization costs' : 'é‡åŒ–æŠ€è¡“å‚µå‹™èˆ‡ç¾ä»£åŒ–æˆæœ¬'}</li>
						<li>{lang === 'en' ? 'Provide data support for architectural decisions' : 'ç‚ºæ¶æ§‹æ±ºç­–æä¾›æ•¸æ“šæ”¯æ’'}</li>
					</ul>
				</div>
			</div>
		</div>
	</section>

	<!-- æ ¸å¿ƒåŠŸèƒ½ -->
	<section class="section features">
		<div class="container">
			<h2 class="section-title">{lang === 'en' ? 'Core Features' : 'æ ¸å¿ƒåŠŸèƒ½'}</h2>
			
			<div class="features-grid">
				<div class="feature-card">
					<div class="feature-icon">ğŸ“‹</div>
					<h3>{lang === 'en' ? 'Questionnaire Quantitative Assessment' : 'å•å·é‡åŒ–è©•ä¼°'}</h3>
					<p>{lang === 'en' ? 'Structured questionnaire covering technical debt, documentation completeness, team maturity, and other dimensions' : 'çµæ§‹åŒ–å•å·ï¼Œæ¶µè“‹æŠ€è¡“å‚µå‹™ã€æ–‡ä»¶å®Œæ•´åº¦ã€åœ˜éšŠæˆç†Ÿåº¦ç­‰ç¶­åº¦'}</p>
				</div>

				<div class="feature-card">
					<div class="feature-icon">ğŸ¤–</div>
					<h3>{lang === 'en' ? 'AI Intelligent Analysis' : 'AI æ™ºæ…§åˆ†æ'}</h3>
					<p>{lang === 'en' ? 'Automatically generate risk fingerprints and maturity quantitative scores' : 'è‡ªå‹•ç”¢ç”Ÿé¢¨éšªæŒ‡ç´‹èˆ‡æˆç†Ÿåº¦é‡åŒ–è©•åˆ†'}</p>
				</div>

				<div class="feature-card">
					<div class="feature-icon">ğŸ“Š</div>
					<h3>{lang === 'en' ? 'Visualization Reports' : 'è¦–è¦ºåŒ–å ±å‘Š'}</h3>
					<p>{lang === 'en' ? 'Risk radar chart visualization with detailed analysis and improvement suggestions' : 'é¢¨éšªé›·é”åœ–è¦–è¦ºåŒ–å‘ˆç¾ï¼Œè©³ç´°åˆ†æèªªæ˜èˆ‡æ”¹å–„å»ºè­°'}</p>
				</div>

				<div class="feature-card">
					<div class="feature-icon">ğŸŒ</div>
					<h3>{lang === 'en' ? 'Multi-language Support' : 'å¤šèªè¨€æ”¯æ´'}</h3>
					<p>{lang === 'en' ? 'Support for multiple languages in reports and interfaces' : 'å ±å‘Šèˆ‡ä»‹é¢æ”¯æ´å¤šç¨®èªè¨€'}</p>
				</div>

				<div class="feature-card">
					<div class="feature-icon">ğŸ’¾</div>
					<h3>{lang === 'en' ? 'Database Integration' : 'è³‡æ–™åº«æ•´åˆ'}</h3>
					<p>{lang === 'en' ? 'Seamless integration with existing databases and systems' : 'èˆ‡ç¾æœ‰è³‡æ–™åº«èˆ‡ç³»çµ±ç„¡ç¸«æ•´åˆ'}</p>
				</div>

				<div class="feature-card">
					<div class="feature-icon">ğŸ‘¥</div>
					<h3>{lang === 'en' ? 'Real-time Collaboration' : 'å³æ™‚å”ä½œ'}</h3>
					<p>{lang === 'en' ? 'Team members can collaborate in real-time on assessments' : 'åœ˜éšŠæˆå“¡å¯å³æ™‚å”ä½œé€²è¡Œè©•ä¼°'}</p>
				</div>
			</div>
		</div>
	</section>

	<!-- CTA -->
	<section class="section cta">
		<div class="container">
			<div class="cta-content">
				<h2>{lang === 'en' ? 'Ready to Get Started?' : 'æº–å‚™é–‹å§‹ä½¿ç”¨ ForgeHelmï¼Ÿ'}</h2>
				<a href={getLocalizedPath('/get-started?source=features', lang)} class="btn-primary">
					{lang === 'en' ? 'Get Started' : 'ç«‹å³é–‹å§‹'}
				</a>
			</div>
		</div>
	</section>
</Layout>

<style>
	/* è¤‡è£½ features.astro çš„æ¨£å¼ */
	.hero {
		background: var(--bg-main);
		color: var(--text-primary);
		padding: 0.25rem 0 3rem;
		text-align: center;
		border-bottom: 1px solid var(--border-light);
	}

	.hero h1 {
		font-size: 2.5rem;
		margin-bottom: 1rem;
	}

	.hero-subtitle {
		font-size: 1.125rem;
		line-height: 1.75;
		opacity: 0.9;
		max-width: 800px;
		margin: 0 auto;
	}

	.section {
		padding: 5rem 0;
	}

	.section-title {
		text-align: center;
		font-size: 2.25rem;
		margin-bottom: 3rem;
		color: var(--text-primary);
	}

	.audience-grid,
	.features-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: 2rem;
	}

	.audience-card,
	.feature-card {
		background: var(--bg-card);
		padding: 2rem;
		border-radius: 1rem;
		border: 1px solid var(--border-color);
		box-shadow: var(--shadow-sm);
		transition: all 0.2s ease;
	}

	.audience-card:hover,
	.feature-card:hover {
		transform: translateY(-4px);
		box-shadow: var(--shadow-md);
		border-color: var(--cta-primary);
	}

	.card-icon,
	.feature-icon {
		font-size: 3rem;
		margin-bottom: 1rem;
	}

	.audience-card h3,
	.feature-card h3 {
		font-size: 1.25rem;
		margin-bottom: 1rem;
		color: var(--text-primary);
	}

	.audience-card ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.audience-card li {
		padding: 0.5rem 0;
		color: var(--text-secondary);
		line-height: 1.6;
		position: relative;
		padding-left: 1.5rem;
	}

	.audience-card li::before {
		content: "â€¢";
		position: absolute;
		left: 0;
		color: var(--cta-primary);
		font-weight: bold;
	}

	.feature-card p {
		color: var(--text-secondary);
		line-height: 1.6;
		margin: 0;
	}

	.cta {
		background: var(--bg-section);
		text-align: center;
		border-top: 1px solid var(--border-light);
	}

	.cta-content h2 {
		color: var(--text-primary);
		margin-bottom: 2rem;
	}

	.btn-primary {
		display: inline-block;
		padding: 0.875rem 2.5rem;
		background: var(--cta-primary);
		color: white;
		text-decoration: none;
		border-radius: 0.5rem;
		font-weight: 600;
		transition: all 0.2s ease;
	}

	.btn-primary:hover {
		transform: translateY(-2px);
		background: var(--cta-hover);
		box-shadow: var(--shadow-md);
	}

	@media (max-width: 768px) {
		.hero h1 {
			font-size: 2rem;
		}

		.section {
			padding: 3rem 0;
		}

		.section-title {
			font-size: 1.75rem;
		}

		.audience-grid,
		.features-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
