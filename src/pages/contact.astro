---
import Layout from '../layouts/Layout.astro';
import { CONTACT_EMAIL } from '../consts';

// ç²å– URL åƒæ•¸
const type = Astro.url.searchParams.get('type') || '';
const source = Astro.url.searchParams.get('source') || '';
---

<Layout 
	title="è¯çµ¡æˆ‘å€‘ | æ™ºåºè³‡è¨Šå·¥ä½œå®¤" 
	description="æ­¡è¿æ´½è©¢åˆä½œææ¡ˆã€å ±å‘Šè©¦é–±ã€ä»˜æ¬¾èˆ‡ç™¼ç¥¨ç›¸é—œå•é¡Œã€‚"
>
	<!-- Hero å€å¡Š -->
	<section class="hero">
		<div class="container">
			<h1>è¯çµ¡æˆ‘å€‘</h1>
			<p class="hero-subtitle">
				æ­¡è¿æ´½è©¢åˆä½œææ¡ˆã€å ±å‘Šè©¦é–±ã€ä»˜æ¬¾èˆ‡ç™¼ç¥¨ç›¸é—œå•é¡Œã€‚<br>
				æˆ‘å€‘å°‡æ–¼ 1-2 å€‹å·¥ä½œå¤©å…§å›è¦†æ‚¨ã€‚
			</p>
		</div>
	</section>

	<!-- è¯çµ¡è¡¨å–®èˆ‡è³‡è¨Š -->
	<section class="section contact-main">
		<div class="container">
			<div class="contact-grid">
				<!-- è¯çµ¡è¡¨å–® -->
				<div class="form-section">
					<h2>è«®è©¢è¡¨å–®</h2>
					<p class="form-desc">è«‹å¡«å¯«ä»¥ä¸‹è³‡è¨Šï¼Œæˆ‘å€‘æœƒç›¡å¿«èˆ‡æ‚¨è¯ç¹«</p>
					
					<form class="contact-form" action="https://api.web3forms.com/submit" method="POST">
						<!-- Web3Forms Access Keyï¼ˆéœ€è¦æ›¿æ›ç‚ºå¯¦éš›çš„ keyï¼‰ -->
						<input type="hidden" name="access_key" value="YOUR_WEB3FORMS_KEY">
						
						<!-- éš±è—æ¬„ä½ï¼šä¾†æºè¿½è¹¤ -->
						<input type="hidden" name="from_page" value={type ? `contact-${type}` : 'contact'}>
						<input type="hidden" name="source" value={source}>
						
						<div class="form-group">
							<label for="name">å§“å <span class="required">*</span></label>
							<input 
								type="text" 
								id="name" 
								name="name" 
								required 
								placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å"
							>
						</div>

						<div class="form-group">
							<label for="email">Email <span class="required">*</span></label>
							<input 
								type="email" 
								id="email" 
								name="email" 
								required 
								placeholder="your.email@example.com"
							>
						</div>

						<div class="form-group">
							<label for="company">å…¬å¸ï¼å–®ä½ <span class="optional">(é¸å¡«)</span></label>
							<input 
								type="text" 
								id="company" 
								name="company" 
								placeholder="å¦‚ç‚ºä¼æ¥­æ´½è©¢ï¼Œè«‹å¡«å¯«å…¬å¸åç¨±"
							>
						</div>

						<div class="form-group">
							<label for="subject">è©¢å•ä¸»é¡Œ <span class="required">*</span></label>
							<select id="subject" name="subject" required>
								<option value="">è«‹é¸æ“‡...</option>
								<option value="trial" {type === 'trial' ? 'selected' : ''}>å ±å‘Šè©¦é–±èˆ‡ç”¢å“è«®è©¢</option>
								<option value="enterprise" {type === 'enterprise' ? 'selected' : ''}>ä¼æ¥­åˆä½œèˆ‡å®¢è£½åŒ–éœ€æ±‚</option>
								<option value="payment">ä»˜æ¬¾æ–¹å¼èˆ‡ç™¼ç¥¨é–‹ç«‹</option>
								<option value="support">æŠ€è¡“æ”¯æ´</option>
								<option value="other">å…¶ä»–</option>
							</select>
						</div>

						<div class="form-group">
							<label for="message">ç•™è¨€å…§å®¹ <span class="required">*</span></label>
							<textarea 
								id="message" 
								name="message" 
								required 
								rows="6"
								placeholder="è«‹æè¿°æ‚¨çš„éœ€æ±‚æˆ–å•é¡Œï¼Œæˆ‘å€‘æœƒç›¡å¿«å›è¦†"
							></textarea>
						</div>

						<button type="submit" class="submit-btn">é€å‡ºè«®è©¢</button>
						
						<p class="form-note">* ç‚ºå¿…å¡«æ¬„ä½</p>
					</form>
				</div>

				<!-- è¯çµ¡è³‡è¨Š -->
				<div class="info-section">
					<h2>å…¶ä»–è¯çµ¡æ–¹å¼</h2>
					
					<div class="contact-method">
						<div class="method-icon">ğŸ“§</div>
						<div class="method-content">
							<h3>Email ç›´æ¥è¯çµ¡</h3>
							<p><a href={`mailto:${CONTACT_EMAIL}`}>{CONTACT_EMAIL}</a></p>
							<p class="method-note">å›è¦†æ™‚é–“ï¼š1-2 å€‹å·¥ä½œå¤©</p>
						</div>
					</div>

					<div class="contact-method">
						<div class="method-icon">ğŸ’¬</div>
						<div class="method-content">
							<h3>LINE å®˜æ–¹å¸³è™Ÿ</h3>
							<p>LINE ID: @smartsequence <span class="note-small">ï¼ˆè«‹æ›´æ–°å¯¦éš› IDï¼‰</span></p>
							<p class="method-note">å³æ™‚è«®è©¢ï¼šé€±ä¸€è‡³é€±äº” 10:00-18:00</p>
							<div class="qr-placeholder">
								<p>ğŸ“± QR Code</p>
								<p class="small">ï¼ˆæº–å‚™ä¸­ï¼‰</p>
							</div>
						</div>
					</div>

					<div class="contact-method">
						<div class="method-icon">ğŸ“</div>
						<div class="method-content">
							<h3>å¯¦é«”åœ°å€</h3>
							<p class="note-small">æ–°ç«¹å¸‚ï¼ˆå¯¦éš›åœ°å€å¾…è£œå……ï¼‰</p>
							<p class="method-note">å¦‚æœ‰å¯¦é«”è¾¦å…¬å®¤å¯æä¾›åœ°å€</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- å¿«é€Ÿé€£çµ -->
	<section class="section quick-links">
		<div class="container">
			<h2 class="section-title">å¸¸è¦‹éœ€æ±‚å¿«é€Ÿå°èˆª</h2>
			
			<div class="links-grid">
				<a href="/pricing" class="link-card">
					<div class="link-icon">ğŸ’°</div>
					<h3>æŸ¥çœ‹å®šåƒ¹æ–¹æ¡ˆ</h3>
					<p>ç­è§£è²»ç”¨èˆ‡æ–¹æ¡ˆå…§å®¹</p>
				</a>

				<a href="/get-started?source=contact-demo" class="link-card">
					<div class="link-icon">ğŸ“‹</div>
					<h3>é è¦½ç¯„ä¾‹å ±å‘Š</h3>
					<p>çœ‹å¯¦éš›å ±å‘Šå“è³ª</p>
				</a>

				<a href="/pricing#faq" class="link-card">
					<div class="link-icon">â“</div>
					<h3>å¸¸è¦‹å•é¡Œ FAQ</h3>
					<p>ç™¼ç¥¨ã€ä»˜æ¬¾ã€è³‡æ–™å®‰å…¨</p>
				</a>

				<a href="/get-started?source=contact-trial" class="link-card">
					<div class="link-icon">ğŸš€</div>
					<h3>ç«‹å³é–‹å§‹ä½¿ç”¨</h3>
					<p>å…è²»è©¦ç”¨ ForgeHelm</p>
				</a>
			</div>
		</div>
	</section>
</Layout>

<style>
	/* Hero */
	.hero {
		background: var(--bg-main);
		color: var(--text-primary);
		padding: 0.25rem 0 3rem;
		text-align: center;
		border-bottom: 1px solid var(--border-light);
	}

	.hero h1 {
		font-size: 2.5rem;
		margin-bottom: 1rem;
	}

	.hero-subtitle {
		font-size: 1.125rem;
		opacity: 0.95;
		line-height: 1.75;
	}

	/* ä¸»è¦å…§å®¹ */
	.contact-grid {
		display: grid;
		grid-template-columns: minmax(520px, 1.6fr) minmax(320px, 1fr);
		gap: 2.5rem;
		align-items: start;
	}

	/* è¡¨å–®å€ */
	.form-section h2 {
		font-size: 1.75rem;
		margin-bottom: 0.5rem;
		color: var(--gray-dark);
	}

	.form-desc {
		color: var(--gray-medium);
		margin-bottom: 2rem;
	}

	.contact-form {
		background: var(--bg-card);
		padding: 2.5rem;
		border-radius: 1rem;
		border: 1px solid var(--border-color);
		box-shadow: var(--shadow-sm);
	}

	.form-group {
		margin-bottom: 1.5rem;
	}

	.form-group label {
		display: block;
		margin-bottom: 0.5rem;
		font-weight: 600;
		color: var(--gray-dark);
	}

	.required {
		color: var(--error);
	}

	.optional {
		font-weight: 400;
		color: var(--gray-medium);
		font-size: 0.875rem;
	}

	.form-group input,
	.form-group select,
	.form-group textarea {
		width: 100%;
		padding: 0.75rem;
		background: var(--bg-section);
		border: 1px solid var(--border-color);
		border-radius: 0.5rem;
		font-family: inherit;
		font-size: 1rem;
		transition: border-color 0.2s ease;
		color: var(--text-primary);
	}

	.form-group input::placeholder,
	.form-group textarea::placeholder {
		color: var(--text-muted);
	}

	.form-group input:focus,
	.form-group select:focus,
	.form-group textarea:focus {
		outline: none;
		border-color: var(--primary);
	}

	.form-group textarea {
		resize: vertical;
		min-height: 150px;
	}

	.submit-btn {
		width: 100%;
		padding: 0.875rem;
		background: var(--cta-primary);
		color: white;
		border: none;
		border-radius: 0.5rem;
		font-size: 1rem;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.2s ease;
	}

	.submit-btn:hover {
		transform: translateY(-2px);
		background: var(--cta-hover);
		box-shadow: var(--shadow-md);
	}

	.form-note {
		margin-top: 1rem;
		font-size: 0.875rem;
		color: var(--gray-medium);
		text-align: center;
	}

	/* è¯çµ¡è³‡è¨Šå€ */
	.info-section h2 {
		font-size: 1.75rem;
		margin-bottom: 2rem;
		color: var(--gray-dark);
	}

	.contact-method {
		background: var(--bg-card);
		padding: 1.5rem;
		border-radius: 1rem;
		border: 1px solid var(--border-color);
		margin-bottom: 1.5rem;
		display: flex;
		gap: 1rem;
	}

	.method-icon {
		font-size: 2rem;
		flex-shrink: 0;
	}

	.method-content h3 {
		font-size: 1.125rem;
		margin-bottom: 0.5rem;
		color: var(--gray-dark);
	}

	.method-content {
		min-width: 0;
	}

	.method-content p {
		color: var(--gray-medium);
		margin-bottom: 0.25rem;
	}

	.method-content a {
		color: var(--primary);
		text-decoration: none;
		overflow-wrap: anywhere;
		word-break: break-word;
		display: inline-block;
		max-width: 100%;
	}

	.method-content a:hover {
		text-decoration: underline;
	}

	.method-note {
		font-size: 0.875rem;
		color: var(--gray-medium);
		margin-top: 0.5rem;
	}

	.note-small {
		font-size: 0.75rem;
		color: var(--gray-medium);
	}

	.qr-placeholder {
		margin-top: 1rem;
		padding: 2rem;
		background: var(--bg-section);
		border: 2px dashed var(--border-color);
		border-radius: 0.5rem;
		text-align: center;
	}

	.qr-placeholder p {
		margin: 0;
	}

	.qr-placeholder .small {
		font-size: 0.875rem;
		color: var(--gray-medium);
		margin-top: 0.5rem;
	}

	/* å¿«é€Ÿé€£çµ */
	.quick-links {
		background: var(--bg-section);
	}

	.links-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
		gap: 1.5rem;
	}

	.link-card {
		background: var(--bg-card);
		padding: 2rem;
		border-radius: 1rem;
		border: 1px solid var(--border-color);
		text-decoration: none;
		transition: all 0.2s ease;
		display: block;
		text-align: center;
	}

	.link-card:hover {
		border-color: var(--primary);
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(30, 64, 175, 0.15);
	}

	.link-icon {
		font-size: 2.5rem;
		margin-bottom: 1rem;
	}

	.link-card h3 {
		font-size: 1.125rem;
		margin-bottom: 0.5rem;
		color: var(--gray-dark);
	}

	.link-card p {
		color: var(--gray-medium);
		margin: 0;
	}

	/* é€šç”¨ */
	.section {
		padding: 5rem 0;
	}

	.section-title {
		text-align: center;
		font-size: 2.25rem;
		margin-bottom: 3rem;
		color: var(--gray-dark);
	}

	/* éŸ¿æ‡‰å¼ */
	@media (max-width: 968px) {
		.contact-grid {
			grid-template-columns: 1fr;
			gap: 3rem;
		}
	}

	@media (max-width: 768px) {
		.hero h1 {
			font-size: 2rem;
		}

		.section {
			padding: 3rem 0;
		}

		.section-title {
			font-size: 1.75rem;
		}

		.contact-form {
			padding: 1.5rem;
		}

		.links-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
