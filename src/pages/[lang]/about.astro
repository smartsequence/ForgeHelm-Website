---
import Layout from '../../layouts/Layout.astro';
import { 
	STUDIO_NAME, 
	STUDIO_NAME_EN, 
	STUDIO_TAX_ID,
	SOCIAL_LINKEDIN,
	SOCIAL_YOUTUBE
} from '../../consts';
import { getTranslations, getLocalizedPath } from '../../i18n/utils';
import { defaultLang, type Language, getAllLanguageCodes } from '../../i18n/languages';

// ç”Ÿæˆæ‰€æœ‰èªè¨€ç‰ˆæœ¬çš„éœæ…‹è·¯å¾‘
export async function getStaticPaths() {
	const allLangs = getAllLanguageCodes();
	return allLangs
		.filter((lang) => lang !== defaultLang)
		.map((lang) => ({
			params: { lang },
		}));
}

// å¾ URL åƒæ•¸å–å¾—èªè¨€
const lang = (Astro.params.lang || defaultLang) as Language;
const translations = await getTranslations(lang);

// ç¿»è­¯å‡½å¼
function t(key: string): string {
	const keys = key.split('.');
	let value: any = translations;
	for (const k of keys) {
		value = value?.[k];
		if (value === undefined) return key;
	}
	return value || key;
}
---

<Layout 
	title={t('pages.about.title')}
	description={t('pages.about.description')}
>
	<!-- Hero å€å¡Š -->
	<section class="hero">
		<div class="container">
			<h1>{t('pages.about.heroTitle')}</h1>
			<p class="subtitle">{t('pages.about.heroSubtitle')}</p>
			<p class="tagline">{t('pages.about.heroTagline')}</p>
		</div>
	</section>

	<!-- å·¥ä½œå®¤ä»‹ç´¹ -->
	<section class="section intro">
		<div class="container">
			<div class="intro-content">
				<h2>{t('pages.about.introTitle')}</h2>
				<p>
					{t('pages.about.introText1')}
				</p>
				<p>
					{t('pages.about.introText2')}
				</p>
			</div>
		</div>
	</section>

	<!-- å•†æ¥­ç™»è¨˜è³‡è¨Š -->
	<section class="section registration">
		<div class="container">
			<h2 class="section-title">{t('pages.about.registrationTitle')}</h2>
			
			<div class="info-card">
				<div class="info-row">
					<span class="info-label">{t('pages.about.studioName')}</span>
					<span class="info-value">{STUDIO_NAME}</span>
				</div>
				<div class="info-row">
					<span class="info-label">{t('pages.about.englishName')}</span>
					<span class="info-value">{STUDIO_NAME_EN}</span>
				</div>
				<div class="info-row">
					<span class="info-label">{t('pages.about.taxId')}</span>
					<span class="info-value">{STUDIO_TAX_ID}</span>
				</div>
				<div class="info-row">
					<span class="info-label">{t('pages.about.businessItems')}</span>
					<span class="info-value">
						{t('pages.about.businessItem1')}<br>
						{t('pages.about.businessItem2')}<br>
						{t('pages.about.businessItem3')}
					</span>
				</div>
			</div>
		</div>
	</section>

	<!-- ç†å¿µ -->
	<section class="section philosophy">
		<div class="container">
			<h2 class="section-title">{t('pages.about.philosophyTitle')}</h2>
			
			<div class="philosophy-content">
				<div class="belief-card">
					<h3>{t('pages.about.philosophyBelief')}</h3>
					<ul>
						<li>{t('pages.about.belief1')}</li>
						<li>{t('pages.about.belief2')}</li>
						<li>{t('pages.about.belief3')}</li>
						<li>{t('pages.about.belief4')}</li>
					</ul>
				</div>
			</div>
		</div>
	</section>

	<!-- ç¤¾ç¾¤é€£çµ -->
	<section class="section social">
		<div class="container">
			<h2 class="section-title">{t('pages.about.socialTitle')}</h2>
			
			<div class="social-links">
				<a href={SOCIAL_LINKEDIN} target="_blank" rel="noopener noreferrer" class="social-card">
					<div class="social-icon">ğŸ”—</div>
					<h3>LinkedIn</h3>
					<p>{t('pages.about.socialLinkedIn')}</p>
				</a>

				<a href={SOCIAL_YOUTUBE} target="_blank" rel="noopener noreferrer" class="social-card">
					<div class="social-icon">ğŸ¥</div>
					<h3>YouTube</h3>
					<p>{t('pages.about.socialYouTube')}</p>
				</a>
			</div>
		</div>
	</section>

	<!-- CTA -->
	<section class="section cta">
		<div class="container">
			<div class="cta-content">
				<h2>{t('pages.about.ctaTitle')}</h2>
				<a href={getLocalizedPath('/get-started?source=about', lang)} class="btn-primary">{t('pages.about.ctaButton')}</a>
			</div>
		</div>
	</section>
</Layout>

<style>
	/* Hero */
	.hero {
		background: var(--bg-main);
		color: var(--text-primary);
		padding: 0.25rem 0 3rem;
		text-align: center;
		border-bottom: 1px solid var(--border-light);
	}

	.hero h1 {
		font-size: 2.5rem;
		margin-bottom: 0.5rem;
	}

	.subtitle {
		font-size: 1.25rem;
		opacity: 0.9;
		margin-bottom: 1rem;
	}

	.tagline {
		font-size: 1.125rem;
		opacity: 0.85;
		font-style: italic;
	}

	/* å·¥ä½œå®¤ä»‹ç´¹ */
	.intro-content {
		max-width: 800px;
		margin: 0 auto;
		text-align: center;
	}

	.intro-content h2 {
		font-size: 2rem;
		margin-bottom: 1.5rem;
		color: var(--text-primary);
	}

	.intro-content p {
		font-size: 1.125rem;
		line-height: 1.875;
		color: var(--text-secondary);
		margin-bottom: 1.5rem;
	}

	/* å•†æ¥­ç™»è¨˜ */
	.registration {
		background: var(--bg-section);
	}

	.info-card {
		max-width: 700px;
		margin: 0 auto;
		background: var(--bg-card);
		padding: 2.5rem;
		border-radius: 1rem;
		box-shadow: var(--shadow-sm);
	}

	.info-row {
		display: grid;
		grid-template-columns: 150px 1fr;
		gap: 2rem;
		padding: 1.25rem 0;
		border-bottom: 1px solid var(--border-color);
	}

	.info-row:last-child {
		border-bottom: none;
	}

	.info-label {
		font-weight: 600;
		color: var(--text-primary);
	}

	.info-value {
		color: var(--text-secondary);
		line-height: 1.75;
	}

	/* å“ç‰Œç†å¿µ */
	.philosophy {
		background: var(--bg-section);
	}

	.philosophy-content {
		max-width: 700px;
		margin: 0 auto;
	}

	.belief-card {
		background: var(--bg-card);
		padding: 2.5rem;
		border-radius: 1rem;
		box-shadow: var(--shadow-sm);
	}

	.belief-card h3 {
		font-size: 1.5rem;
		margin-bottom: 1.5rem;
		color: var(--text-primary);
	}

	.belief-card ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.belief-card li {
		padding: 0.75rem 0;
		color: var(--text-secondary);
		line-height: 1.75;
		position: relative;
		padding-left: 2rem;
	}

	.belief-card li::before {
		content: "âœ“";
		position: absolute;
		left: 0;
		color: var(--cta-primary);
		font-weight: bold;
		font-size: 1.25rem;
	}

	/* ç¤¾ç¾¤é€£çµ */
	.social-links {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 2rem;
	}

	.social-card {
		background: var(--bg-card);
		padding: 2.5rem 2rem;
		border-radius: 1rem;
		border: 2px solid var(--border-color);
		text-decoration: none;
		transition: all 0.2s ease;
		text-align: center;
		display: block;
	}

	.social-card:hover {
		border-color: var(--cta-primary);
		transform: translateY(-4px);
		box-shadow: var(--shadow-md);
	}

	.social-icon {
		font-size: 3rem;
		margin-bottom: 1rem;
	}

	.social-card h3 {
		font-size: 1.25rem;
		margin-bottom: 0.5rem;
		color: var(--text-primary);
	}

	.social-card p {
		color: var(--text-secondary);
		margin: 0;
	}

	/* CTA */
	.cta {
		background: var(--bg-section);
		color: var(--text-primary);
		text-align: center;
		border-top: 1px solid var(--border-light);
		border-bottom: 1px solid var(--border-light);
	}

	.cta-content h2 {
		color: var(--text-primary);
		margin-bottom: 2rem;
	}

	.btn-primary {
		display: inline-block;
		padding: 0.875rem 2.5rem;
		background: var(--cta-primary);
		color: white;
		text-decoration: none;
		border-radius: 0.5rem;
		font-weight: 600;
		transition: all 0.2s ease;
	}

	.btn-primary:hover {
		transform: translateY(-2px);
		background: var(--cta-hover);
		box-shadow: var(--shadow-md);
	}

	/* é€šç”¨ */
	.section {
		padding: 5rem 0;
	}

	.section-title {
		text-align: center;
		font-size: 2.25rem;
		margin-bottom: 3rem;
		color: var(--text-primary);
	}

	/* éŸ¿æ‡‰å¼ */
	@media (max-width: 768px) {
		.hero h1 {
			font-size: 2rem;
		}

		.section {
			padding: 3rem 0;
		}

		.section-title {
			font-size: 1.75rem;
		}

		.info-row {
			grid-template-columns: 1fr;
			gap: 0.5rem;
		}

		.founder-card {
			grid-template-columns: 1fr;
			gap: 2rem;
			padding: 2rem;
		}

		.photo-placeholder {
			margin: 0 auto 1rem;
		}
	}
</style>
